<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eric Xiao | Extensible Robotic Beamline Scientist</title>
    <link rel="icon" href="../images/logo.svg" type="image/svg+xml">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Modern CSS -->
    <link rel="stylesheet" href="../assets/css/modern.css">
    
    <!-- FontAwesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav" id="navbar">
        <div class="nav-container">
            <div class="nav-left">
                <a href="../index.html" class="nav-logo">Eric Xiao</a>
                <a href="../resume.html" class="nav-resume">
                    <span class="resume-text">Resume</span>
                </a>
            </div>

            <ul class="nav-menu" id="nav-menu">
                <li><a href="../resume.html" class="nav-link nav-link-mobile-only">Resume</a></li>
                <li><a href="../index.html" class="nav-link">Home</a></li>
                <li><a href="../mechanical.html" class="nav-link">Mechanical</a></li>
                <li><a href="../software.html" class="nav-link active">Software</a></li>
                <li><a href="../message.html" class="nav-link">Contact</a></li>
            </ul>

            <div class="nav-toggle" id="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Project Details Section -->
    <section class="section" style="min-height: auto; padding-top: 120px;">
        <div class="container">
            <!-- Project Header -->
            <div class="section-header">
                <div style="display: flex; align-items: center; justify-content: center; gap: var(--space-md); flex-wrap: wrap; margin-bottom: var(--space-md);">
                    <h1 class="section-title" style="margin-bottom: 0;">Extensible Robotic Beamline Scientist</h1>
                    <span style="background: var(--text-secondary); color: var(--bg-primary); padding: var(--space-xs) var(--space-sm); border-radius: var(--radius-sm); font-weight: var(--font-weight-medium); font-size: 0.875rem;">
                        <i class="fas fa-check-circle"></i> In service
                    </span>
                </div>
                <p class="section-subtitle">
                    Adaptive motion planning stack for novel scientific experiments at National Synchrotron Light Source II
                </p>
            </div>

            <!-- Main Project Image -->
            <div style="margin-bottom: var(--space-3xl);">
                <img src="../images/software/EROBS/architecture.png" alt="EROBS System Architecture"
                     class="lightbox-trigger"
                     style="width: 100%; max-height: 400px; object-fit: cover; border-radius: var(--radius-lg); box-shadow: var(--shadow-lg);"
                     onclick="openLightbox(this)">
            </div>

            <!-- Project Content -->
            <div style="max-width: 900px; margin: 0 auto;">
                <!-- Project Overview -->
                <div style="background: var(--card-bg); padding: var(--space-2xl); border-radius: var(--radius-lg); border: 1px solid var(--border-color); margin-bottom: var(--space-2xl);">
                    <h2 style="color: var(--accent-primary); margin-bottom: var(--space-lg);">
                        <i class="fas fa-rocket"></i>
                        Project Overview
                    </h2>
                    <p style="color: var(--text-secondary);">
                        EROBS integrates Bluesky, the control software at many national laboratories, to enable control of Universal Robots at NSLS-II.
                        Many research groups and scientists are acquiring robots but lack the expertise to control them with existing staff. EROBS provides
                        a hardware-agnostic solution that saves time and resources for the facility while enabling advanced experimental automation.
                    </p>
                </div>

                <!-- Technical Challenges -->
                <div style="background: var(--bg-secondary); padding: var(--space-2xl); border-radius: var(--radius-lg); margin-bottom: var(--space-2xl);">
                    <h2 style="color: var(--accent-primary); margin-bottom: var(--space-lg);">
                        <i class="fas fa-exclamation-triangle"></i>
                        Technical Challenges
                    </h2>
                    <div style="display: grid; gap: var(--space-lg);">
                        <div>
                            <h3 style="color: var(--text-primary); margin-bottom: var(--space-sm);">Safety and Modularity</h3>
                            <p style="color: var(--text-secondary);">
                                Ensuring compliance with beamline safety protocols while maintaining system security. Beamlines operate on isolated networks without unpatched systems,
                                requiring Docker containerization for the EROBS stack and carefully managed cross-VM communication.
                            </p>
                        </div>
                        <div>
                            <h3 style="color: var(--text-primary); margin-bottom: var(--space-sm);">Dynamic Tool Changing</h3>
                            <p style="color: var(--text-secondary);">
                                Enabling versatile end-effector capabilities for diverse experimental needs. Since beamline scans can take up to 40 minutes, EROBS supports
                                one multipurpose robot with user-defined end effectors that can be automatically selected and loaded for specific tasks.
                            </p>
                        </div>
                        <div>
                            <h3 style="color: var(--text-primary); margin-bottom: var(--space-sm);">Results</h3>
                            <p style="color: var(--text-secondary);">
                                Successfully deployed at CMS beamline with pilot program underway at FMX beamline. Proof-of-concept demonstrated automated hot plate
                                X-ray scattering experiments, where the robot drops material samples onto pre-heated hot plates and immediately initiates data collectionâ€”capturing
                                critical initial reaction phases impossible with manual handling while eliminating human exposure to active X-ray environments.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- System Demonstration -->
                <div style="margin-bottom: var(--space-2xl);">
                    <h2 style="color: var(--accent-primary); margin-bottom: var(--space-lg); text-align: center;">
                        <i class="fas fa-video"></i>
                        Demonstration
                    </h2>
                    <div style="text-align: center; margin-bottom: var(--space-2xl);">
                        <video controls style="width: 100%; max-width: 800px; border-radius: var(--radius-lg); box-shadow: var(--shadow-lg);">
                            <source src="../images/software/EROBS/demonstration.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>

                <!-- Technology Stack -->
                <div style="background: var(--card-bg); padding: var(--space-2xl); border-radius: var(--radius-lg); border: 1px solid var(--border-color); margin-bottom: var(--space-2xl);">
                    <h2 style="color: var(--accent-primary); margin-bottom: var(--space-lg);">
                        <i class="fas fa-tools"></i>
                        Technology Stack
                    </h2>
                    <div style="display: flex; flex-wrap: wrap; gap: var(--space-sm); margin-bottom: var(--space-lg);">
                        <span class="tech-tag">ROS2</span>
                        <span class="tech-tag">MoveIt</span>
                        <span class="tech-tag">URDF</span>
                        <span class="tech-tag">OMPL</span>
                        <span class="tech-tag">Bluesky</span>
                        <span class="tech-tag">Python</span>
                        <span class="tech-tag">C++</span>
                        <span class="tech-tag">Docker</span>
                        <span class="tech-tag">Forward Kinematics</span>
                        <span class="tech-tag">Inverse Kinematics</span>
                        <span class="tech-tag">Universal Robots</span>
                        <span class="tech-tag">Motion Planning</span>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-xl);">
                        <div>
                            <h3 style="color: var(--text-primary); margin-bottom: var(--space-md);">ROS 2 Control Layer</h3>
                            <ul style="color: var(--text-secondary); margin-left: var(--space-lg);">
                                <li>ROS 2 Humble containerized in Docker</li>
                                <li>MoveIt motion planning pipeline</li>
                                <li>OMPL path planning algorithms</li>
                                <li>Dynamic URDF configuration loading</li>
                                <li>Collision detection with environment obstacles</li>
                            </ul>
                        </div>
                        <div>
                            <h3 style="color: var(--text-primary); margin-bottom: var(--space-md);">Integration Layer</h3>
                            <ul style="color: var(--text-secondary); margin-left: var(--space-lg);">
                                <li>Custom master node orchestration</li>
                                <li>Bluesky RunEngine integration</li>
                                <li>Python service bridging</li>
                                <li>RESTful API for plan execution</li>
                                <li>Dynamic end-effector management</li>
                            </ul>
                        </div>
                        <div>
                            <h3 style="color: var(--text-primary); margin-bottom: var(--space-md);">Infrastructure</h3>
                            <ul style="color: var(--text-secondary); margin-left: var(--space-lg);">
                                <li>Docker containerization for isolation</li>
                                <li>VM-based deployment architecture</li>
                                <li>Cross-VM communication protocols</li>
                                <li>Beamline safety compliance</li>
                                <li>Secure network configuration</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- System Architecture -->
                <div style="background: var(--bg-secondary); padding: var(--space-2xl); border-radius: var(--radius-lg); margin-bottom: var(--space-2xl);">
                    <h2 style="color: var(--accent-primary); margin-bottom: var(--space-lg);">
                        <i class="fas fa-project-diagram"></i>
                        System Architecture
                    </h2>
                    <p style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
                        EROBS operates through a layered architecture that bridges Bluesky experimental control with ROS 2 robotic motion planning:
                    </p>

                    <div style="display: grid; gap: var(--space-lg);">
                        <div>
                            <h3 style="color: var(--text-primary); margin-bottom: var(--space-sm);">Master Node Orchestration</h3>
                            <p style="color: var(--text-secondary);">
                                The custom master node dynamically instantiates different MoveIt configurations based on the selected end-effector.
                                Pre-defined beamline environments are loaded as collision obstacles, ensuring safe motion planning around sensitive equipment.
                            </p>
                        </div>
                        <div>
                            <h3 style="color: var(--text-primary); margin-bottom: var(--space-sm);">Bluesky Integration</h3>
                            <p style="color: var(--text-secondary);">
                                Bluesky RunEngine sends execution requests to the master server, which translates experimental plans into robot movements.
                                Supported operations include Cartesian positioning, predefined waypoints, and automated gripper swaps with stack reconfiguration.
                            </p>
                        </div>
                        <div>
                            <h3 style="color: var(--text-primary); margin-bottom: var(--space-sm);">Dynamic Tool Management</h3>
                            <p style="color: var(--text-secondary);">
                                When Bluesky requests a gripper change, the system automatically swaps the end-effector and restarts the MoveIt stack
                                with the correct URDF configuration, maintaining accurate kinematic models throughout experiments.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Limitations -->
                <div style="background: var(--card-bg); padding: var(--space-2xl); border-radius: var(--radius-lg); border: 1px solid var(--border-color); margin-bottom: var(--space-2xl);">
                    <h2 style="color: var(--accent-primary); margin-bottom: var(--space-lg);">
                        <i class="fas fa-exclamation-circle"></i>
                        Limitations
                    </h2>
                    <div style="display: grid; gap: var(--space-lg);">
                        <div>
                            <h3 style="color: var(--text-primary); margin-bottom: var(--space-sm);">URDF Reconfiguration Overhead</h3>
                            <p style="color: var(--text-secondary);">
                                The MoveIt stack loads the URDF (Unified Robot Description Format) as an immutable object at initialization. When changing end effectors,
                                the robot description becomes inaccurate unless the URDF is updated. This requires restarting the entire MoveIt stack, which takes approximately
                                20 seconds and introduces significant delays in experimental workflows. This architectural constraint limits the practical frequency of tool changes
                                during active experiments.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Final Note -->
                <div style="background: var(--accent-primary); color: var(--bg-primary); padding: var(--space-2xl); border-radius: var(--radius-lg); margin-bottom: var(--space-2xl); text-align: center;">
                    <h2 style="margin-bottom: var(--space-lg); color: var(--bg-primary);">
                        <i class="fas fa-flag-checkered"></i>
                        Project Impact
                    </h2>
                    <p style="margin: 0; font-size: 1.125rem; color: var(--bg-primary);">
                        Successfully engineered an automated experimental workflow pipeline for hardware-agnostic Universal Robot control through Bluesky and ROS2,
                        enabling advanced scientific automation at national laboratory beamlines.
                    </p>
                </div>

                <!-- Navigation -->
                <div class="btn-group" style="justify-content: center; margin-top: var(--space-2xl);">
                    <a href="ChefBuddy.html" class="btn btn-primary">
                        <i class="fas fa-arrow-right"></i>
                        Next Project
                    </a>
                    <a href="../software.html" class="btn btn-secondary">
                        <i class="fas fa-arrow-left"></i>
                        Back to Portfolio
                    </a>
                    <a href="../index.html" class="btn btn-secondary">
                        <i class="fas fa-home"></i>
                        Home
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Lightbox -->
    <div id="lightbox" class="lightbox" onclick="closeLightbox()">
        <div class="lightbox-content" onclick="event.stopPropagation()">
            <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
            <img id="lightbox-image" class="lightbox-image" src="" alt="">
            <div id="lightbox-caption" class="lightbox-caption"></div>
        </div>
    </div>    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2025 Eric Xiao. All rights reserved.</p>
                <p>I like to game, walk my dog Mochi, and cook in my spare time.</p>
                <p style="margin-top: var(--space-md);"><a href="../directory.html" style="color: var(--accent-primary);">Project Directory</a></p>
            </div>

            <!-- Social Links -->
            <div class="social-links">
                <a href="https://www.linkedin.com/in/eric-xiaoy/" class="social-link" title="LinkedIn">
                    <i class="fab fa-linkedin"></i>
                </a>
                <a href="https://github.com/sixym3" class="social-link" title="GitHub">
                    <i class="fab fa-github"></i>
                </a>
                <a href="https://www.instagram.com/sixym3/" class="social-link" title="Instagram">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://x.com/cyberbroker4729" class="social-link" title="Twitter">
                    <i class="fab fa-twitter"></i>
                </a>
                <a href="https://www.instagram.com/mochi_is_a_shiba_inu" class="social-link" title="Mochi's Instagram">
                    <i class="fas fa-paw"></i>
                </a>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Mobile Navigation Toggle
        const navToggle = document.getElementById('nav-toggle');
        const navMenu = document.getElementById('nav-menu');
        
        navToggle.addEventListener('click', () => {
            navMenu.classList.toggle('active');
        });

        // Close mobile menu when clicking on a link
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                navMenu.classList.remove('active');
            });
        });

        // Navbar background on scroll
        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.style.background = 'rgba(10, 10, 10, 0.98)';
            } else {
                navbar.style.background = 'rgba(10, 10, 10, 0.95)';
            }
        });

        // Lightbox functionality
        function openLightbox(img) {
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightbox-image');
            const lightboxCaption = document.getElementById('lightbox-caption');
            
            lightbox.style.display = 'block';
            lightboxImage.src = img.src;
            lightboxImage.alt = img.alt;
            lightboxCaption.textContent = img.alt;
            
            // Prevent body scroll when lightbox is open
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.style.display = 'none';
            
            // Restore body scroll
            document.body.style.overflow = 'auto';
        }

        // Close lightbox with Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeLightbox();
            }
        });
    </script>
</body>
</html>